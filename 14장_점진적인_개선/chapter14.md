# 221121

# 점진적인 개선

명령형 인수 구문 분석기

## 코드 초안

- 모든 로직이 하나의 클래스에 들어가있다.
- 처음부터 지저분한 코드를 짜려는 생각은 없었고, 코드를 어느 정도 손봤지만 새로운 인수 유형이 들어오면서 재앙이 시작됐다.
- 이제는 개선해야 할 때라는 걸 깨닫고, **변경 전후 시스템이 동일하게 돌아간다는 사실을 확인하기 위해 테스트들을 작성해뒀다.**
- 자잘하게 **점진적으로** 개선해나갔다.

## 코드 완성본

- Args 클래스에서 코드 중복을 최소화하고, ArgsException 클래스를 분리했다. ArgumentMarshaler 클래스를 통해 여러 인수에 대한 추후 확장성을 만들어냈다.
- **코드만 분리해도 설계가 좋아진다.** 관심사를 분리하면 코드를 이해하고 보수하기 훨씬 더 쉬워진다.

![img](https://github.com/gaeng2y/clean-code/blob/chapter14/14%EC%9E%A5_%EC%A0%90%EC%A7%84%EC%A0%81%EC%9D%B8_%EA%B0%9C%EC%84%A0/img/14-1.png?raw=true)